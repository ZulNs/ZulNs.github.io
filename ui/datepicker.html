<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Hijri/Gregorian Datepicker Demo</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="ZulNs">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="robots" content="all">
<meta name="copyright" content="ZulNs">
<!--link rel="icon" href="favicon.ico" type="image/x-icon" /-->
<!--link rel="icon" href="favicon.png" type="image/png" /-->
</head>
<body>
<link rel="stylesheet" href="../libs/w3css/w3.css"/>
<script type="text/javascript" src="../libs/hijri-date.js"></script>
<script type="text/javascript" src="../libs/datepicker.js"></script>

<div class="w3-sidebar w3-bar-block w3-collapse w3-card w3-animate-left" style="width:200px;z-index:2" id="mySidebar">
  <button class="w3-bar-item w3-button w3-ripple w3-white w3-large w3-hide-large" onclick="closeSidebar()">Close<span class="w3-right">&times;</span></button>
  <button class="w3-bar-item w3-button w3-ripple w3-white" onclick="dropdown(this)">Set Language<span class="w3-right">&#9662;</span></button>
		<div class="w3-hide w3-bar-block w3-light-grey">
			<div class="w3-bar-item w3-button" onclick="selectLang('langEn')">
				<input id="langEn" class="w3-radio" type="radio" name="lang" value="en" checked>
				<label for="langEn">English</label>
			</div>
			<div class="w3-bar-item w3-button" onclick="selectLang('langId')">
				<input id="langId" class="w3-radio" type="radio" name="lang" value="id">
				<label for="langId">Indonesian</label>
			</div>
		</div>
  <button class="w3-bar-item w3-button w3-ripple w3-white" onclick="dropdown(this)">Set Firstday<span class="w3-right">&#9662;</span></button>
		<div class="w3-hide w3-bar-block w3-light-grey">
			<button class="w3-bar-item w3-button w3-ripple" onclick="setFirstDay(0)">Sunday</button>
			<button class="w3-bar-item w3-button w3-ripple" onclick="setFirstDay(1)">Monday</button>
			<button class="w3-bar-item w3-button w3-ripple" onclick="setFirstDay(2)">Tuesday</button>
			<button class="w3-bar-item w3-button w3-ripple" onclick="setFirstDay(3)">Wednesday</button>
			<button class="w3-bar-item w3-button w3-ripple" onclick="setFirstDay(4)">Thursday</button>
			<button class="w3-bar-item w3-button w3-ripple" onclick="setFirstDay(5)">Friday</button>
			<button class="w3-bar-item w3-button w3-ripple" onclick="setFirstDay(6)">Saturday</button>
		</div>
  <button class="w3-bar-item w3-button w3-ripple w3-white" onclick="dropdown(this)">Set Full Year<span class="w3-right">&#9662;</span></button>
		<div class="w3-hide w3-bar-block w3-light-grey">
			<div class="w3-bar-item">
				<input id="valYear" class="w3-input w3-border" type="text" placeholder="full year value...">
			</div>
			<button class="w3-bar-item w3-button w3-ripple" onclick="setYear()">Apply</button>
		</div>
  <button class="w3-bar-item w3-button w3-ripple w3-white" onclick="dropdown(this)">Set Month<span class="w3-right">&#9662;</span></button>
		<div class="w3-hide w3-bar-block w3-light-grey">
			<div class="w3-bar-item">
				<input id="valMonth" class="w3-input w3-border" type="text" placeholder="month value...">
			</div>
			<button class="w3-bar-item w3-button w3-ripple" onclick="setMonth()">Apply</button>
		</div>
  <button class="w3-bar-item w3-button w3-ripple w3-white" onclick="dropdown(this)">Set Width<span class="w3-right">&#9662;</span></button>
		<div class="w3-hide w3-bar-block w3-light-grey">
			<div class="w3-bar-item">
				<input id="valWidth" class="w3-input w3-show-inline-block" style="width:80px" type="text" value="300" readonly>
				<label for="valWidth" class="w3-right-align" style="width:50px">pixels</label>
			</div>
			<div class="w3-bar-item">
				<input id="sliderWidth" type="range" onchange="updateWidth(this)" style="width:170px" min="280" max="600" value="300" step="1">
			</div>
		</div>
  <button class="w3-bar-item w3-button w3-ripple w3-white" onclick="gotoToday()">Go to Today</button>
  <button class="w3-bar-item w3-button w3-ripple w3-white" onclick="newTheme()">New Theme</button>
</div>

<div class="w3-main" style="margin-left:200px">
	<div class="w3-teal">
		<button class="w3-button w3-ripple w3-teal w3-xlarge w3-hide-large" onclick="openSidebar()">&#9776;</button>
		<div class="w3-container">
			<h2>Hijri/Gregorian Datepicker Demo</h2>
		</div>
	</div>

	<div class="w3-container w3-margin-top">
		<div class="w3-container w3-margin-top">
			<label for="gregDate">Gregorian Date</label>
			<input id="gregDate" onclick="pickDate(this)" class="w3-input w3-border" type="text" placeholder="Click to pick a date...">
		</div>
		<div class="w3-container w3-margin-top">
			<label for="hijrDate">Hijri Date</label>
			<input id="hijrDate" onclick="pickDate(this)" class="w3-input w3-border" type="text" placeholder="Click to pick a date...">
		</div>
	</div>
</div>

<script type="text/javascript">
var picker=new Datepicker();
var pickElm=picker.getElement();
pickElm.style.position='absolute';
picker.attachTo(document.body);

picker.onPicked=function(){
	var elgd=document.getElementById('gregDate');
	var elhd=document.getElementById('hijrDate');
	var date=picker.getPickedDate();
	if(date instanceof Date){
		elgd.value=date.getDateString();
		elhd.value=date.getOppositeDate().getDateString()
	}else{
		elhd.value=date.getDateString();
		elgd.value=date.getOppositeDate().getDateString()
	}
};

function openSidebar(){
	document.getElementById("mySidebar").style.display = "block"
}

function closeSidebar(){
	document.getElementById("mySidebar").style.display = "none"
}

function dropdown(el){
	var ht=el.innerHTML.toString();
	var ne=el.nextElementSibling;
	ht=ht.substr(0,ht.indexOf('>'));
	if(ne.className.indexOf('w3-show')==-1){
		ne.className+=' w3-show';
		el.className+=' w3-dark-grey';
		el.innerHTML=ht+'>&#9652;</span>'
	}else{
		ne.className=ne.className.replace(' w3-show','');
		el.className=el.className.replace(' w3-dark-grey','')
		el.innerHTML=ht+'>&#9662;</span>'
	}
}

function selectLang(id){
	var el=document.getElementById(id);
	el.checked=true;
	picker.setLanguage(el.value)
}

function setFirstDay(fd){
	picker.setFirstDayOfWeek(fd)
}

function setYear(){
	var el=document.getElementById('valYear');
	picker.setFullYear(el.value)
}

function setMonth(){
	var el=document.getElementById('valMonth');
	picker.setMonth(el.value)
}

function updateWidth(el){
	document.getElementById('valWidth').value=el.value;
	picker.setWidth(el.value)
}

function pickDate(el){
	var ev=window.event;
	picker.setHijriMode(el.id=='hijrDate');
	pickElm.style.left=ev.pageX+'px';
	pickElm.style.top=ev.pageY+'px';
	picker.show()
}

function gotoToday(){
	picker.today()
}

function newTheme(){
	picker.setTheme()
}
</script>
</body>
</html>
