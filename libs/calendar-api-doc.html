<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<!--meta http-equiv="refresh" content="1;url="-->
	<title>Calendar API Documentation</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="ZulNs">
	<meta name="keywords" content="">
	<meta name="description" content="">
	<meta name="robots" content="all">
	<meta name="copyright" content="ZulNs">
	<link rel="icon" href="../favicon.ico" type="image/x-icon">
	<!--link rel="icon" href="favicon.png" type="image/png"-->
<style type="text/css">
	.style-option {
		position: fixed;
		top: 16px;
		right: 16px;
		font: 12px Arial;
		color: #444;
		background-color: #eee;
		padding: 3px 6px;
		-moz-box-shadow: 0 4px 8px rgba(0,0,0,.5);
		-webkit-box-shadow: 0 4px 8px rgba(0,0,0,.5);
		box-shadow: 0 2px 4px rgba(0,0,0,.5);
	}
	.style-option select {
		background-color: transparent;
		color: inherit;
		border: 0;
		outline: 0;
		padding: 0;
		-webkit-appearance: none;
		-moz-appearance: none;
		-o-appearance: none;
		appearance: none;
		overflow: hidden;
		cursor: pointer;
	}
	.style-option select::-ms-expand {
		display: none;
	}
</style>
</head>
<body>
<div class="style-option">
<span>Markdown style :</span><select id="style-option" onChange="selectStyle();">
<option style="color: #737373; background-color: #fff" value="clearness">Clearness</option>
<option style="color: #fff; background-color: #282a36" value="clearness-dark" selected>Clearness Dark</option>
<option style="color: #000; background-color: #F8F8F8" value="github">GitHub</option>
<option style="color: #333; background-color: #fff" value="standard">Standard</option>
<option style="color: #000; background-color: #fff" value="top-marks">Top Marks</option>
</select>
<script type="text/javascript">
	var styleOption = document.getElementById('style-option');
	applyStyle();
	
	function selectStyle() {
		document.body.removeChild(document.getElementById('current-style'));
		applyStyle();
	}
	
	function applyStyle() {
		var link = document.createElement('link');
		link.id = 'current-style';
		link.rel = 'stylesheet';
		link.href = 'markdown-viewer-' + styleOption.value + '.css';
		document.body.appendChild(link);
	}
</script>
</div>
<p>&nbsp;</p>
<h1>Calendar API Documentation</h1>
<h2>Overview</h2>
<p>This calendar widget can be used to display <strong>Gregorian</strong> or <strong>Hijri</strong> date, and of course as the converter between the two calendar system, it can also be used as datepicker for both systems. It's full customizable for above both calendar system interchange, first day of week (<strong>Monday</strong> or <strong>Sunday</strong>), auto hide calendar on select a date, auto select the date when <strong>month</strong> or <strong>year</strong> value was changed. This customization can be applied on the fly (at run time) also of course in the way programmatically (at design time). This widget has a <em>month bar</em> which has a drop down list to select the desired month between 12 available month names for the concerned calendar system. There are two buttons associated with the sequence of the month which serve to lower and raise its sequence by one step. This widget also has a <em>year bar</em> which its value can be directly edited. Similar to the <em>month bar</em>, the <em>year bar</em> also has two buttons associated with its value which serve to decrement and increment that value by one. Only difference that <em>year bar</em> has another extra four buttons which change the year value respectively decrement by 100, decrement by 10, increment by 10, and increment by 100. Those extra buttons can be displayed or hidden on the fly at will of the user.</p>
<h2>Download</h2>
<ul>
<li><a href="calendar.js">calendar.js</a></li>
</ul>
<h2>Requirements</h2>
<ul>
<li><a href="hijri-date.js">hijri-date.js</a> which allows the use of <code>HijriDate()</code> class</li>
<li><a href="calendar.css">calendar.css</a> for styling this widget</li>
</ul>
<h2>Public Constructor</h2>
<p><strong><code>Calendar(isHijriMode, firstDayOfWeek, isAutoHide, isAutoSelectedDate, year, month, date)</code></strong></p>
<h3>Arguments:</h3>
<ul>
<li>
<p><strong><code>isHijriMode</code></strong>, sets the calendar mode</p>
<p><strong><code>true</code></strong> : Hijri Calendar mode</p>
<p><strong><code>false</code></strong> : Gregorian Calendar mode</p>
<p>Default : <strong><code>false</code></strong></p>
</li>
<li>
<p><strong><code>firstDayOfWeek</code></strong>, sets the first day of week</p>
<p><strong><code>0</code></strong> : Sunday</p>
<p><strong><code>1</code></strong> : Monday</p>
<p>Default : <strong><code>1</code></strong></p>
</li>
<li>
<p><strong><code>isAutoHide</code></strong></p>
<p><strong><code>true</code></strong> : hides the widget when a date was selected</p>
<p><strong><code>false</code></strong> : desn't hide the widget when a date was selected</p>
<p>Default : <strong><code>true</code></strong></p>
</li>
<li>
<p><strong><code>isAutoSelectedDate</code></strong></p>
<p><strong><code>true</code></strong> : auto select a date when the month or year value was changed</p>
<p><strong><code>false</code></strong> : doesn't select a date when the month or year value was changed</p>
<p>Default : <strong><code>false</code></strong></p>
</li>
<li>
<p><strong><code>year</code></strong>, <strong><code>month</code></strong>, and <strong><code>date</code></strong></p>
<p>Those arguments are the same as arguments used in JavaScript standard <code>Date()</code> class or custom <code>HijriDate()</code> class, except <code>year</code> argument is using <code>FullYear</code> instead. When those are omitted, the current date will be used.</p>
</li>
</ul>
<h2>Public Methods</h2>
<ul>
<li>
<p><strong><code>changeAutoHide()</code></strong></p>
<p>Toggles the widget auto hide on select the date.</p>
</li>
<li>
<p><strong><code>changeAutoSelectedDate()</code></strong></p>
<p>Toggles auto select a date when the month or year value changed.</p>
</li>
<li>
<p><strong><code>changeDateMode()</code></strong></p>
<p>Toggles calendar mode from Gregorian to Hijri or vice versa.</p>
</li>
<li>
<p><strong><code>changeFirstDayOfWeek()</code></strong></p>
<p>Toggles first day of week from Monday to Sunday or vice versa.</p>
</li>
<li>
<p><strong><code>destroy()</code></strong></p>
<p>Destroys the widget object and releases it from memory.</p>
</li>
<li>
<p><strong><code>disableCallback(state)</code></strong></p>
<p>Disable the calling permission to a function which is pointed by <code>callback</code> property while <code>state = true</code>, or enable it while <code>state = false</code>. This <em>internal calling permission flag</em> was in the enabled state since object creation.</p>
</li>
<li>
<p><strong><code>firstDayOfWeek()</code></strong></p>
<p>Returns <code>1</code> if Sunday as first day of week or <code>0</code> for Monday.</p>
</li>
<li>
<p><strong><code>getDate()</code></strong></p>
<p>Returns the selected date as an instance of <code>Date()</code> or <code>HijriDate()</code> depends on the current calendar mode.</p>
</li>
<li>
<p><strong><code>getElement()</code></strong></p>
<p>Returns the widget <code>div</code> element.</p>
</li>
<li>
<p><strong><code>getTime()</code></strong></p>
<p>Returns the long value of time in milliseconds which represents the selected date.</p>
</li>
<li>
<p><strong><code>hide()</code></strong></p>
<p>Hides the widget.</p>
</li>
<li>
<p><strong><code>isAutoHide()</code></strong></p>
<p>Returns <code>true</code> if the widget was in auto hide on select the date, <code>false</code> if wasn't.</p>
</li>
<li>
<p><strong><code>isAutoSelectedDate()</code></strong></p>
<p>Returns <code>true</code> if the widget was in auto select the date when the month or year value was changed, <code>false</code> if wasn't.</p>
</li>
<li>
<p><strong><code>isHidden()</code></strong></p>
<p>Returns <code>true</code> if the widget state was hidden, <code>false</code> if wasn't.</p>
</li>
<li>
<p><strong><code>isHijriMode()</code></strong></p>
<p>Returns <code>true</code> when the calendar was in Hijri mode or <code>false</code> for Gregorian mode.</p>
</li>
<li>
<p><strong><code>setDate(setYear, setMonth, setDate)</code></strong></p>
<p>Sets the selected date to a desired date.</p>
</li>
<li>
<p><strong><code>setDisplayStyle(style)</code></strong></p>
<p>Sets the widget display style on the page by styling the CSS <code>display</code> property to a style which represents by <code>style</code> string argument. Default string value is <code>&quot;block&quot;</code>, which causes an instance of this widget takes up one row in the document page. To display more than one instance in a row, provide <code>&quot;inline-block&quot;</code> to this argument.</p>
</li>
<li>
<p><strong><code>setTime(time)</code></strong></p>
<p>Sets the selected date to a desired date using long value of <code>time</code> in milliseconds.</p>
</li>
<li>
<p><strong><code>show()</code></strong></p>
<p>Shows the widget.</p>
</li>
</ul>
<h2>Public Properties</h2>
<ul>
<li>
<p><strong><code>callback</code></strong></p>
<p>Assign this property to a function that do some processes when a date was selected. This function will be called as long as the <em>internal calling permission flag</em> was in the enabled state. The calling permission state can be changed through <code>disableCallback(disabled_state)</code> method.</p>
<p>For example:</p>
<pre><code><span class="keyword">var</span> cal = <span class="keyword">new</span> Calendar();
cal.callback = <span class="keyword">function</span>() {
    <span class="comment">// do stuff</span>
};
</code></pre>
</li>
<li>
<p><strong><code>onHide</code></strong></p>
<p>Assign this property to a function that do some processes when the calendar was hidden/closed.</p>
<p>For example, this destroys the widget when it was closed:</p>
<pre><code><span class="keyword">var</span> cal = <span class="keyword">new</span> Calendar();
cal.onHide = <span class="keyword">function</span>() {
    cal.destroy();
};
</code></pre>
</li>
</ul>
<h2>Getting Started</h2>
<h3>Embedding the Calendar Widget on a Web Page</h3>
<p>Generally, you'll need to include these three files on any page to use the calendar widget:</p>
<pre><code><span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">href</span>=<span class="value">"https://ZulNs.github.io/libs/calendar.css"</span>/&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"https://ZulNs.github.io/libs/hijri-date.js"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"https://ZulNs.github.io/libs/calendar.js"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
</code></pre>
	<link rel="stylesheet" href="calendar.css">
	<script type="text/javascript" src="hijri-date.js"></script>
	<script type="text/javascript" src="calendar.js"></script>
<p>For the following code examples, please insert them at anywhere you want within the document's body below the above code.</p>
<h3>Embedding the Widget as a Calendar</h3>
<h4>Code example:</h4>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"calendar"</span>&gt;</span><span class="tag">&lt;<span class="title">input</span> <span class="attribute">id</span>=<span class="value">"show-button"</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">onclick</span>=<span class="value">"showMe();"</span> <span class="attribute">value</span>=<span class="value">"Show Calendar"</span> /&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript">
    <span class="keyword">var</span> showBtn = document.getElementById(<span class="string">'show-button'</span>),
        cal = <span class="keyword">new</span> Calendar();
    document.getElementById(<span class="string">'calendar'</span>).appendChild(cal.getElement());
    showMe();

    cal.onHide = <span class="keyword">function</span>() {
        showBtn.style.display = <span class="string">'block'</span>
    };

    <span class="function"><span class="keyword">function</span> <span class="title">showMe</span><span class="params">()</span> {</span>
        showBtn.style.display = <span class="string">'none'</span>;
        cal.show();
    }
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
</code></pre>
<h4>Result:</h4>
	<div id="calendar"><input id="show-button" type="button" onclick="showMe();" value="Show Calendar" /></div>
	<script type="text/javascript">
		var showBtn = document.getElementById('show-button'),
			cal = new Calendar();
		document.getElementById('calendar').appendChild(cal.getElement());
		showMe();
		
		cal.onHide = function() {
			showBtn.style.display = 'block'
		};
		
		function showMe() {
			showBtn.style.display = 'none';
			cal.show();
		}
	</script>
<p>&nbsp;</p>
<h3>Embedding the Widget as a Datepicker</h3>
<h4>Code example:</h4>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"datepicker"</span>&gt;</span><span class="tag">&lt;<span class="title">input</span> <span class="attribute">id</span>=<span class="value">"picked-text"</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">size</span>=<span class="value">"35"</span>/&gt;</span><span class="tag">&lt;<span class="title">input</span> <span class="attribute">id</span>=<span class="value">"pick-button"</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">onclick</span>=<span class="value">"pickADate();"</span> <span class="attribute">value</span>=<span class="value">"pick"</span>/&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript">
    <span class="keyword">var</span> pickedTxt = document.getElementById(<span class="string">'picked-text'</span>),
        pickBtn = document.getElementById(<span class="string">'pick-button'</span>),
        datepicker = <span class="keyword">new</span> Calendar();
    document.getElementById(<span class="string">'datepicker'</span>).appendChild(datepicker.getElement());
    datepicker.getElement().style.marginTop = <span class="string">'10px'</span>;

    datepicker.callback = <span class="keyword">function</span>() {
        pickedTxt.value = datepicker.getDate().getDateString();
        pickedTxt.selectionStart = <span class="number">0</span>;
        pickedTxt.selectionEnd = pickedTxt.value.length;
        pickedTxt.focus();
    };

    datepicker.onHide = <span class="keyword">function</span>() {
        pickBtn.style.display = <span class="string">'inline-block'</span>;
    };

    <span class="function"><span class="keyword">function</span> <span class="title">pickADate</span><span class="params">()</span> {</span>
        pickBtn.style.display = <span class="string">'none'</span>;
        datepicker.show();
    }
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
</code></pre>
<h4>Result:</h4>
	<div id="datepicker"><input id="picked-text" type="text" size="35"/><input id="pick-button" type="button" onclick="pickADate();" value="pick"/></div>
	<script type="text/javascript">
		var pickedTxt = document.getElementById('picked-text'),
			pickBtn = document.getElementById('pick-button'),
			datepicker = new Calendar();
		document.getElementById('datepicker').appendChild(datepicker.getElement());
		datepicker.getElement().style.marginTop = '10px';
		
		datepicker.callback = function() {
			pickedTxt.value = datepicker.getDate().getDateString();
			pickedTxt.selectionStart = 0;
			pickedTxt.selectionEnd = pickedTxt.value.length;
			pickedTxt.focus();
		};
		
		datepicker.onHide = function() {
			pickBtn.style.display = 'inline-block';
		};
		
		function pickADate() {
			pickBtn.style.display = 'none';
			datepicker.show();
		}
	</script>
<p>&nbsp;</p>
<h3>Side by Side Gregorian - Hijri Calendar Converter</h3>
<h4>Code example:</h4>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"calendar-converter"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript">
    <span class="keyword">var</span> cal1 = <span class="keyword">new</span> Calendar(<span class="literal">false</span>, <span class="number">1</span>, <span class="literal">false</span>, <span class="literal">true</span>),
        cal2 = <span class="keyword">new</span> Calendar(<span class="literal">true</span>, <span class="number">0</span>, <span class="literal">false</span>, <span class="literal">true</span>),
        cal1Mode = cal1.isHijriMode(),
        cal2Mode = cal2.isHijriMode();
    document.getElementById(<span class="string">'calendar-converter'</span>).appendChild(cal1.getElement());
    document.getElementById(<span class="string">'calendar-converter'</span>).appendChild(cal2.getElement());
    cal1.setDisplayStyle(<span class="string">'inline-block'</span>);
    cal2.setDisplayStyle(<span class="string">'inline-block'</span>);
    cal2.getElement().style.marginLeft = <span class="string">'20px'</span>;
    cal1.show();
    cal2.show();

    cal1.callback = <span class="keyword">function</span>() {
        <span class="keyword">if</span> (cal1Mode !== cal1.isHijriMode()) {
            cal2.disableCallback(<span class="literal">true</span>);
            cal2.changeDateMode();
            cal2.disableCallback(<span class="literal">false</span>);
            cal1Mode = cal1.isHijriMode();
            cal2Mode = cal2.isHijriMode();
        } <span class="comment">// prevent from infinite loop when user change the calendar mode</span>
        <span class="keyword">else</span>
            cal2.setTime(cal1.getTime());
    };

    cal2.callback = <span class="keyword">function</span>() {
        <span class="keyword">if</span> (cal2Mode !== cal2.isHijriMode()) {
            cal1.disableCallback(<span class="literal">true</span>);
            cal1.changeDateMode();
            cal1.disableCallback(<span class="literal">false</span>);
            cal1Mode = cal1.isHijriMode();
            cal2Mode = cal2.isHijriMode();
        } <span class="comment">// prevent from infinite loop when user change the calendar mode</span>
        <span class="keyword">else</span>
            cal1.setTime(cal2.getTime());
    };

    cal1.onHide = <span class="keyword">function</span>() {
        cal1.show(); <span class="comment">// prevent the widget from being closed</span>
    };

    cal2.onHide = <span class="keyword">function</span>() {
        cal2.show(); <span class="comment">// prevent the widget from being closed</span>
    };
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
</code></pre>
<h4>Result:</h4>
	<div id="calendar-converter"></div>
	<script type="text/javascript">
		var cal1 = new Calendar(false, 1, false, true),
			cal2 = new Calendar(true, 0, false, true),
			cal1Mode = cal1.isHijriMode(),
			cal2Mode = cal2.isHijriMode();
		document.getElementById('calendar-converter').appendChild(cal1.getElement());
		document.getElementById('calendar-converter').appendChild(cal2.getElement());
		cal1.setDisplayStyle('inline-block');
		cal2.setDisplayStyle('inline-block');
		cal2.getElement().style.marginLeft = '20px';
		cal1.show();
		cal2.show();
		
		cal1.callback = function() {
			if (cal1Mode !== cal1.isHijriMode()) {
				cal2.disableCallback(true);
				cal2.changeDateMode();
				cal2.disableCallback(false);
				cal1Mode = cal1.isHijriMode();
				cal2Mode = cal2.isHijriMode();
			}
			else
				cal2.setTime(cal1.getTime());
		};
		
		cal2.callback = function() {
			if (cal2Mode !== cal2.isHijriMode()) {
				cal1.disableCallback(true);
				cal1.changeDateMode();
				cal1.disableCallback(false);
				cal1Mode = cal1.isHijriMode();
				cal2Mode = cal2.isHijriMode();
			}
			else
				cal1.setTime(cal2.getTime());
		};
		
		cal1.onHide = function() {
			cal1.show();
		};
		
		cal2.onHide = function() {
			cal2.show();
		};
		
		window.scrollTo(0,0);
	</script>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr>
<h4>Made By ZulNs</h4>
<h5>@Yogyakarta, January 2016</h5>
<hr>
</body>
</html>
